<div class="app-container">
  <div class="routes-panel" *ngIf="routesPanelVisible">
    <app-routes></app-routes>
  </div>

  <div class="vehicle-panel" *ngIf="selectedRoute">
    <app-vehicle-list></app-vehicle-list>
  </div>

  <div class="main-content">
    <mat-toolbar color="primary">
      <button
        type="button"
        aria-label="Toggle routes panel"
        mat-icon-button
        (click)="toggleRoutesPanel()">
        <mat-icon aria-label="Routes toggle icon">{{routesPanelVisible ? 'chevron_left' : 'chevron_right'}}</mat-icon>
      </button>
      <img src="assets/favicon.png" alt="MBTA Logo" class="toolbar-favicon">
      <span>{{title}}</span>
      <span class="spacer"></span>
      <button
        type="button"
        aria-label="Settings and preferences"
        mat-icon-button
        (click)="resetToInitialState()"
        title="Reset to initial state">
        <mat-icon aria-label="Settings icon">menu</mat-icon>
      </button>
    </mat-toolbar>

    <div class="content">
      <app-map></app-map>
    </div>
  </div>

  <app-vehicle-completion-dialog
    *ngIf="dialogData"
    [vehicleId]="dialogData.vehicleId"
    [routeId]="dialogData.routeId"
    [completedNormally]="dialogData.completedNormally"
    [finalArrivalTime]="dialogData.finalArrivalTime"
    [lastUpdateTime]="dialogData.lastUpdateTime"
    (closed)="onDialogClose()">
  </app-vehicle-completion-dialog>
</div>
